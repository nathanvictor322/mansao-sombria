<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>A Mans√£o Sombria - Mobile</title>
    <style>
        /* Reset e configura√ß√µes mobile */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }
        
        html, body {
            height: 100%;
            overflow: hidden;
            background-color: #000;
            color: #fff;
            font-family: 'Courier New', monospace;
            font-size: 16px;
            line-height: 1.4;
        }
        
        /* Container principal */
        .game-container {
            height: 100vh;
            display: flex;
            flex-direction: column;
            padding: 10px;
            max-width: 100%;
            overflow-y: auto;
        }
        
        /* Header */
        .game-header {
            text-align: center;
            padding: 15px 0;
            border-bottom: 2px solid #8b0000;
            margin-bottom: 15px;
        }
        
        .game-title {
            font-size: 1.8rem;
            color: #ff0000;
            text-shadow: 0 0 10px #8b0000;
            margin-bottom: 5px;
            letter-spacing: 1px;
        }
        
        .game-subtitle {
            color: #aaa;
            font-size: 0.9rem;
        }
        
        /* Barra de sanidade - otimizada para mobile */
        .sanity-container {
            background: #111;
            border: 1px solid #333;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 0 10px rgba(139, 0, 0, 0.3);
        }
        
        .sanity-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 1rem;
        }
        
        .sanity-bar {
            height: 30px;
            background: #222;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        }
        
        .sanity-fill {
            height: 100%;
            width: 100%;
            background: linear-gradient(90deg, #006400, #00aa00, #ffff00, #ff6600, #ff0000);
            transition: width 0.5s ease;
            border-radius: 15px;
        }
        
        .sanity-text {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
            text-shadow: 1px 1px 2px #000;
        }
        
        /* √Årea da hist√≥ria */
        .story-container {
            flex-grow: 1;
            background: #111;
            border: 1px solid #333;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            overflow-y: auto;
            max-height: 40vh;
            box-shadow: 0 0 10px rgba(139, 0, 0, 0.3);
        }
        
        .story-text {
            font-size: 1.1rem;
            line-height: 1.6;
            text-align: justify;
        }
        
        /* √Årea de escolhas - otimizada para touch */
        .choices-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
            margin-top: 10px;
        }
        
        .choice-btn {
            background: #222;
            border: 2px solid #444;
            color: #fff;
            padding: 18px 15px;
            text-align: left;
            border-radius: 10px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s;
            min-height: 60px;
            display: flex;
            align-items: center;
            user-select: none;
            -webkit-user-select: none;
            touch-action: manipulation;
        }
        
        .choice-btn:active {
            transform: scale(0.98);
            background: #2a2a2a;
            border-color: #ff0000;
        }
        
        .choice-btn:hover {
            background: #2a2a2a;
            border-color: #8b0000;
        }
        
        .choice-btn::before {
            content: "‚ñ∂";
            margin-right: 10px;
            color: #8b0000;
            font-size: 0.9rem;
        }
        
        /* Tela de game over */
        .game-over {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: none;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 20px;
            z-index: 1000;
            text-align: center;
        }
        
        .game-over h2 {
            font-size: 2.5rem;
            color: #ff0000;
            margin-bottom: 20px;
            text-shadow: 0 0 15px #ff0000;
        }
        
        .game-over p {
            font-size: 1.2rem;
            margin-bottom: 30px;
            line-height: 1.6;
        }
        
        .restart-btn {
            background: #8b0000;
            color: white;
            border: none;
            padding: 20px 40px;
            font-size: 1.3rem;
            border-radius: 10px;
            cursor: pointer;
            margin-top: 20px;
            min-width: 200px;
            touch-action: manipulation;
        }
        
        .restart-btn:active {
            transform: scale(0.95);
            background: #a30000;
        }
        
        /* Controles mobile */
        .mobile-controls {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            margin-top: 10px;
            border-top: 1px solid #333;
        }
        
        .mobile-btn {
            background: #222;
            border: 1px solid #444;
            color: #fff;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 0.9rem;
            cursor: pointer;
        }
        
        /* Efeitos visuais para mobile */
        .mobile-effects {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .flicker {
            position: absolute;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.03);
            opacity: 0;
            animation: flicker 8s infinite;
        }
        
        @keyframes flicker {
            0%, 100% { opacity: 0; }
            5%, 95% { opacity: 0.02; }
            15%, 85% { opacity: 0.05; }
            25%, 75% { opacity: 0.02; }
            35%, 65% { opacity: 0.04; }
            45%, 55% { opacity: 0.03; }
            50% { opacity: 0; }
        }
        
        /* Notifica√ß√µes mobile */
        .mobile-notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(139, 0, 0, 0.9);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            z-index: 1001;
            display: none;
            text-align: center;
            max-width: 90%;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
        }
        
        /* Scrollbar customizada */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #111;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #8b0000;
            border-radius: 4px;
        }
        
        /* Landscape mode */
        @media (orientation: landscape) {
            .game-container {
                flex-direction: row;
                flex-wrap: wrap;
            }
            
            .game-header {
                width: 100%;
                padding: 10px 0;
            }
            
            .sanity-container {
                width: 100%;
                margin-bottom: 10px;
            }
            
            .story-container {
                width: 60%;
                max-height: 60vh;
                margin-right: 10px;
            }
            
            .choices-container {
                width: 38%;
                max-height: 60vh;
                overflow-y: auto;
            }
            
            .game-title {
                font-size: 1.5rem;
            }
        }
        
        /* Telas muito pequenas */
        @media (max-width: 360px) {
            .game-title {
                font-size: 1.5rem;
            }
            
            .story-text {
                font-size: 1rem;
            }
            
            .choice-btn {
                padding: 15px 12px;
                font-size: 0.95rem;
                min-height: 55px;
            }
        }
    </style>
</head>
<body>
    <!-- Efeitos visuais -->
    <div class="mobile-effects">
        <div class="flicker"></div>
    </div>
    
    <!-- Notifica√ß√£o mobile -->
    <div class="mobile-notification" id="mobileNotification"></div>
    
    <!-- Container principal do jogo -->
    <div class="game-container">
        <header class="game-header">
            <h1 class="game-title">A MANS√ÉO SOMBRIA</h1>
            <p class="game-subtitle">Sua sanidade determinar√° seu destino</p>
        </header>
        
        <div class="sanity-container">
            <div class="sanity-label">
                <span>SANIDADE</span>
                <span id="sanityValue">100%</span>
            </div>
            <div class="sanity-bar">
                <div class="sanity-fill" id="sanityFill"></div>
                <div class="sanity-text" id="sanityText">Est√°vel</div>
            </div>
        </div>
        
        <div class="story-container">
            <div class="story-text" id="storyText">
                Voc√™ est√° parado diante da Mans√£o Blackwood, uma constru√ß√£o antiga e decadente que h√° anos √© evitada pelos moradores da cidade. A noite est√° escura, sem luar, e o vento sussurra entre as √°rvores mortas do jardim. Voc√™ est√° aqui porque sua irm√£ desapareceu ap√≥s entrar nesta mans√£o tr√™s dias atr√°s. As √∫nicas pistas que voc√™ tem s√£o uma carta enigm√°tica e um di√°rio antigo que ela deixou para tr√°s. A porta da frente est√° entreaberta, rangendo levemente com o vento. O que voc√™ faz?
            </div>
        </div>
        
        <div class="choices-container" id="choicesContainer">
            <!-- As escolhas ser√£o inseridas aqui pelo JavaScript -->
        </div>
        
        <!-- Controles mobile -->
        <div class="mobile-controls">
            <button class="mobile-btn" onclick="toggleSound()" id="soundBtn">üîä Som</button>
            <button class="mobile-btn" onclick="showInstructions()">‚ùì Ajuda</button>
            <button class="mobile-btn" onclick="restartGame()">üîÑ Reiniciar</button>
        </div>
    </div>
    
    <!-- Tela de game over -->
    <div class="game-over" id="gameOverScreen">
        <h2 id="gameOverTitle">FIM DE JOGO</h2>
        <p id="gameOverText"></p>
        <button class="restart-btn" id="restartBtn">JOGAR NOVAMENTE</button>
    </div>

    <!-- √Åudios (com fallback para mobile) -->
    <audio id="bgSound" loop preload="auto">
        <!-- Para mobile, podemos usar um som mais leve -->
        <source src="https://assets.mixkit.co/music/preview/mixkit-dark-ambience-388.mp3" type="audio/mpeg">
    </audio>
    
    <audio id="clickSound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-select-click-1109.mp3" type="audio/mpeg">
    </audio>
    
    <script>
        // Detectar se √© mobile
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        
        // Configura√ß√£o para mobile
        if (isMobile) {
            // Ajustar viewport
            document.querySelector('meta[name="viewport"]').setAttribute('content', 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no');
            
            // Mostrar instru√ß√µes
            setTimeout(() => {
                showNotification("Toque nas op√ß√µes para fazer escolhas. Mantenha sua sanidade acima de 0!");
            }, 1000);
        }
        
        // Elementos do DOM
        const storyText = document.getElementById('storyText');
        const choicesContainer = document.getElementById('choicesContainer');
        const sanityFill = document.getElementById('sanityFill');
        const sanityText = document.getElementById('sanityText');
        const sanityValue = document.getElementById('sanityValue');
        const gameOverScreen = document.getElementById('gameOverScreen');
        const gameOverTitle = document.getElementById('gameOverTitle');
        const gameOverText = document.getElementById('gameOverText');
        const restartBtn = document.getElementById('restartBtn');
        const mobileNotification = document.getElementById('mobileNotification');
        const soundBtn = document.getElementById('soundBtn');
        
        // Elementos de √°udio
        const bgSound = document.getElementById('bgSound');
        const clickSound = document.getElementById('clickSound');
        
        // Estado do jogo
        let gameState = {
            sanity: 100,
            currentScene: "start",
            soundEnabled: false, // Inicia desligado por padr√£o no mobile
            visitedScenes: new Set(["start"])
        };
        
        // Sistema de notifica√ß√£o para mobile
        function showNotification(message, duration = 3000) {
            mobileNotification.textContent = message;
            mobileNotification.style.display = 'block';
            setTimeout(() => {
                mobileNotification.style.display = 'none';
            }, duration);
        }
        
        // Sistema de √°udio (adaptado para mobile)
        function toggleSound() {
            gameState.soundEnabled = !gameState.soundEnabled;
            soundBtn.textContent = gameState.soundEnabled ? "üîä Som ON" : "üîá Som OFF";
            
            if (gameState.soundEnabled) {
                // No mobile, precisa de intera√ß√£o do usu√°rio para tocar √°udio
                bgSound.volume = 0.3;
                const playPromise = bgSound.play();
                if (playPromise !== undefined) {
                    playPromise.catch(e => {
                        showNotification("Toque em qualquer lugar para ativar o som");
                        document.body.addEventListener('touchstart', enableAudio, { once: true });
                    });
                }
            } else {
                bgSound.pause();
            }
        }
        
        function enableAudio() {
            if (gameState.soundEnabled) {
                bgSound.play().catch(e => console.log("√Åudio ainda bloqueado"));
            }
        }
        
        // Instru√ß√µes para mobile
        function showInstructions() {
            showNotification("Toque nas op√ß√µes para escolher. Cuidado: escolhas erradas reduzem sua sanidade!", 5000);
        }
        
        // Cenas do jogo (vers√£o simplificada para mobile)
        const scenes = {
            start: {
                text: "Voc√™ est√° parado diante da Mans√£o Blackwood, uma constru√ß√£o antiga e decadente que h√° anos √© evitada pelos moradores da cidade. A noite est√° escura, sem luar, e o vento sussurra entre as √°rvores mortas do jardim. Voc√™ est√° aqui porque sua irm√£ desapareceu ap√≥s entrar nesta mans√£o tr√™s dias atr√°s. As √∫nicas pistas que voc√™ tem s√£o uma carta enigm√°tica e um di√°rio antigo que ela deixou para tr√°s. A porta da frente est√° entreaberta, rangendo levemente com o vento. O que voc√™ faz?",
                choices: [
                    { text: "Entrar pela porta da frente", next: "entrance", sanityChange: -5 },
                    { text: "Dar a volta e tentar uma entrada pelos fundos", next: "backdoor", sanityChange: 0 },
                    { text: "Procurar por uma janela aberta", next: "window", sanityChange: -2 },
                    { text: "Desistir e voltar para a cidade", next: "giveup", sanityChange: 10 }
                ]
            },
            entrance: {
                text: "Voc√™ empurra a pesada porta de madeira, que range alto ao se mover. O interior da mans√£o √© ainda mais escuro que o exterior, e o ar √© pesado com o cheiro de mofo e algo mais... met√°lico. Na entrada, h√° um grande hall com uma escadaria que leva ao andar superior. √Ä sua esquerda, uma porta entreaberta revela o que parece ser uma sala de estar. √Ä direita, um corredor escuro. No ch√£o, voc√™ v√™ pegadas recentes na poeira. Elas parecem levar para cima.",
                choices: [
                    { text: "Seguir as pegadas pela escada", next: "stairs", sanityChange: -8 },
                    { text: "Investigar a sala √† esquerda", next: "livingroom", sanityChange: -3 },
                    { text: "Explorar o corredor √† direita", next: "corridor", sanityChange: -5 },
                    { text: "Voltar para fora e reconsiderar", next: "start", sanityChange: 5 }
                ]
            },
            backdoor: {
                text: "Voc√™ contorna a mans√£o, trope√ßando em arbustos mortos e detritos. Os fundos s√£o ainda mais sombrios, com uma velha cozinha de servi√ßo cuja porta est√° parcialmente destru√≠da. Ao entrar, voc√™ v√™ um fog√£o antigo, uma mesa coberta com utens√≠lios enferrujados e algo que parece ser sangue seco no ch√£o. H√° uma porta que leva para dentro da mans√£o e uma escada estreita que desce para um por√£o.",
                choices: [
                    { text: "Entrar na mans√£o pela cozinha", next: "kitchen", sanityChange: -4 },
                    { text: "Descer a escada para o por√£o", next: "basement", sanityChange: -12 },
                    { text: "Procurar por pistas na cozinha", next: "kitchen_clues", sanityChange: -6 },
                    { text: "Sair e voltar para a frente da mans√£o", next: "start", sanityChange: 0 }
                ]
            },
            giveup: {
                text: "Voc√™ decide que isso √© loucura. A mans√£o tem uma reputa√ß√£o terr√≠vel e voc√™ n√£o est√° preparado para enfrentar o que possa estar l√° dentro. Vira as costas e come√ßa a caminhar de volta para a cidade, prometendo a si mesmo que vai chamar as autoridades pela manh√£. Mas conforme voc√™ se afasta, voc√™ jura ouvir um grito abafado vindo da mans√£o... o grito de sua irm√£. Sua sanidade se recupera um pouco, mas a culpa come√ßa a consumi-lo.",
                gameOver: true,
                title: "DESIST√äNCIA",
                ending: "Voc√™ sobreviveu, mas abandonou sua irm√£. Sua consci√™ncia nunca lhe dar√° paz."
            },
            basement: {
                text: "A escada para o por√£o range perigosamente sob seus p√©s. Ao chegar abaixo, o cheiro de decomposi√ß√£o √© quase insuport√°vel. O por√£o √© √∫mido e escuro. Voc√™ acende sua lanterna e v√™ que o lugar est√° cheio de velhos m√≥veis cobertos com len√ß√≥is. No centro, h√° uma mesa de madeira com correntes e manchas escuras. De repente, voc√™ ouve um barulho de arrastar vindo de um canto escuro.",
                choices: [
                    { text: "Investigar o barulho", next: "noise", sanityChange: -25 },
                    { text: "Examinar a mesa com correntes", next: "table", sanityChange: -20 },
                    { text: "Correr de volta para cima", next: "backdoor", sanityChange: -15 },
                    { text: "Esconder-se atr√°s dos m√≥veis", next: "hide", sanityChange: -10 }
                ]
            },
            noise: {
                text: "Voc√™ se aproxima cautelosamente do canto escuro. Seus olhos gradualmente se ajustam √† escurid√£o, e voc√™ v√™ uma figura encolhida no ch√£o. Quando ela levanta a cabe√ßa, voc√™ reconhece o rosto p√°lido e assustado de sua irm√£! 'Voc√™ veio!' ela sussurra. 'Temos que sair daqui agora! Ele vai voltar a qualquer momento!' Antes que voc√™ possa responder, voc√™ ouve passos pesados descendo as escadas.",
                choices: [
                    { text: "Fugir com sua irm√£ pela sa√≠da dos fundos", next: "escape", sanityChange: 30 },
                    { text: "Enfrentar o que est√° vindo", next: "confront", sanityChange: -30 },
                    { text: "Esconder-se com sua irm√£", next: "hide_together", sanityChange: -15 },
                    { text: "Perguntar quem √© 'ele'", next: "ask_who", sanityChange: -20 }
                ]
            },
            escape: {
                text: "Voc√™ agarra sua irm√£ pela m√£o e os dois correm para a escada, subindo dois degraus de cada vez. Os passos pesados est√£o logo atr√°s de voc√™s. Voc√™s alcan√ßam a cozinha e saem correndo pelos fundos, n√£o parando at√© chegarem √† floresta. Quando olham para tr√°s, a mans√£o parece encolher na dist√¢ncia. Voc√™s conseguem chegar √† cidade e chamar a pol√≠cia. Voc√™s sobrevivem, mas ambos est√£o marcados pela experi√™ncia.",
                gameOver: true,
                title: "ESCAPE BEM SUCEDIDO",
                ending: "Voc√™ resgatou sua irm√£ e escapou da Mans√£o Blackwood!"
            },
            confront: {
                text: "Voc√™ se posiciona na frente de sua irm√£, pronto para enfrentar o que quer que esteja descendo as escadas. Uma figura alta e distorcida aparece, com membros muito longos e um rosto sem caracter√≠sticas definidas. 'Outro visitante', sussurra uma voz que parece vir de todos os lados ao mesmo tempo. Voc√™ sente uma dor de cabe√ßa excruciante enquanto a criatura se aproxima. Sua sanidade se esvai completamente...",
                gameOver: true,
                title: "SANIDADE PERDIDA",
                ending: "Voc√™ enfrentou o horror diretamente e sua mente n√£o conseguiu suportar."
            }
        };
        
        // Inicializar jogo
        function initGame() {
            // Primeiro toque para habilitar √°udio (requisito do mobile)
            if (isMobile) {
                document.body.addEventListener('touchstart', function init() {
                    if (gameState.soundEnabled) {
                        bgSound.play().catch(e => console.log("√Åudio precisa de intera√ß√£o"));
                    }
                    document.body.removeEventListener('touchstart', init);
                }, { once: true });
            }
            
            showScene("start");
        }
        
        // Fun√ß√£o para atualizar a barra de sanidade
        function updateSanity(change) {
            gameState.sanity += change;
            
            // Limitar sanidade entre 0 e 100
            if (gameState.sanity > 100) gameState.sanity = 100;
            if (gameState.sanity < 0) gameState.sanity = 0;
            
            // Atualizar visualmente
            sanityFill.style.width = `${gameState.sanity}%`;
            sanityValue.textContent = `${gameState.sanity}%`;
            
            // Atualizar texto descritivo
            let sanityStatus = "";
            if (gameState.sanity >= 80) sanityStatus = "Est√°vel";
            else if (gameState.sanity >= 60) sanityStatus = "Levemente Abalada";
            else if (gameState.sanity >= 40) sanityStatus = "Abalada";
            else if (gameState.sanity >= 20) sanityStatus = "Cr√≠tica";
            else sanityStatus = "√Ä Beira da Loucura";
            
            sanityText.textContent = sanityStatus;
            
            // Efeito visual quando a sanidade est√° baixa
            if (gameState.sanity < 30) {
                sanityFill.style.animation = "pulse 1s infinite";
            } else {
                sanityFill.style.animation = "none";
            }
            
            // Verificar se a sanidade chegou a zero
            if (gameState.sanity <= 0) {
                gameOver("Sua sanidade se esgotou completamente. A realidade desmorona ao seu redor e voc√™ perde o controle de sua mente.", "SANIDADE ESGOTADA");
            }
        }
        
        // Fun√ß√£o para mostrar cena
        function showScene(sceneId) {
            const scene = scenes[sceneId];
            
            if (!scene) {
                console.error(`Cena "${sceneId}" n√£o encontrada!`);
                return;
            }
            
            gameState.currentScene = sceneId;
            gameState.visitedScenes.add(sceneId);
            
            // Atualizar texto da hist√≥ria
            storyText.textContent = scene.text;
            
            // Rolagem autom√°tica para o topo
            storyText.parentElement.scrollTop = 0;
            
            // Limpar escolhas anteriores
            choicesContainer.innerHTML = "";
            
            // Se for um fim de jogo
            if (scene.gameOver) {
                gameOver(scene.ending, scene.title);
                return;
            }
            
            // Adicionar novas escolhas
            scene.choices.forEach((choice, index) => {
                const button = document.createElement("button");
                button.className = "choice-btn";
                button.textContent = choice.text;
                
                // Adicionar efeito de j√° visitada
                if (gameState.visitedScenes.has(choice.next)) {
                    button.style.opacity = "0.8";
                    button.style.borderStyle = "dashed";
                }
                
                // Evento de toque/click
                button.addEventListener('click', () => {
                    // Efeito sonoro
                    if (gameState.soundEnabled) {
                        clickSound.currentTime = 0;
                        clickSound.play().catch(e => console.log("Erro no √°udio"));
                    }
                    
                    // Atualizar sanidade
                    updateSanity(choice.sanityChange);
                    
                    // Feedback visual
                    button.style.transform = "scale(0.95)";
                    setTimeout(() => {
                        button.style.transform = "";
                    }, 200);
                    
                    // Mostrar pr√≥xima cena
                    setTimeout(() => showScene(choice.next), 300);
                });
                
                // Suporte para toque prolongado (mobile)
                button.addEventListener('touchstart', (e) => {
                    e.preventDefault();
                    button.style.background = "#333";
                });
                
                button.addEventListener('touchend', (e) => {
                    e.preventDefault();
                    button.style.background = "";
                });
                
                choicesContainer.appendChild(button);
            });
        }
        
        // Fun√ß√£o de fim de jogo
        function gameOver(message, title) {
            gameOverTitle.textContent = title;
            gameOverText.textContent = message;
            gameOverScreen.style.display = "flex";
            
            // Parar √°udio de fundo
            if (gameState.soundEnabled) {
                bgSound.pause();
            }
        }
        
        // Reiniciar jogo
        function restartGame() {
            // Resetar estado do jogo
            gameState = {
                sanity: 100,
                currentScene: "start",
                soundEnabled: gameState.soundEnabled,
                visitedScenes: new Set(["start"])
            };
            
            // Resetar sanidade visualmente
            sanityFill.style.width = "100%";
            sanityValue.textContent = "100%";
            sanityText.textContent = "Est√°vel";
            
            // Esconder tela de game over
            gameOverScreen.style.display = "none";
            
            // Mostrar cena inicial
            showScene("start");
        }
        
        // Configurar bot√£o de rein√≠cio
        restartBtn.addEventListener('click', restartGame);
        
        // Iniciar jogo quando a p√°gina carregar
        window.addEventListener('DOMContentLoaded', initGame);
        
        // Prevenir comportamento padr√£o de toque
        document.addEventListener('touchmove', (e) => {
            if (e.scale !== 1) {
                e.preventDefault();
            }
        }, { passive: false });
        
        // Adicionar estilo para pulso quando sanidade baixa
        const style = document.createElement('style');
        style.textContent = `
            @keyframes pulse {
                0% { opacity: 1; }
                50% { opacity: 0.7; }
                100% { opacity: 1; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
